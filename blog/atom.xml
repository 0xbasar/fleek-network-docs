<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://docs.fleek.network/blog</id>
    <title>Fleek Network Blog</title>
    <updated>2023-01-09T19:37:07.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://docs.fleek.network/blog"/>
    <subtitle>Fleek Network Blog</subtitle>
    <icon>https://docs.fleek.network/img/favicon.ico?202301091316</icon>
    <rights>Copyright Â© 2023 Fleek</rights>
    <entry>
        <title type="html"><![CDATA[The Fleek Network]]></title>
        <id>the-fleek-network</id>
        <link href="https://docs.fleek.network/blog/the-fleek-network"/>
        <updated>2023-01-09T19:37:07.000Z</updated>
        <summary type="html"><![CDATA[Introduction]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">â€‹</a></h2><p>Fleek Network is a decentralized content and application layer built on established decentralized storage protocols combined with high-speed caching and an effective delivery layer. An alternative to traditional content delivery networks without a central authority that is reliable and censorship-resistant. Fleek Network relies on blockchain technology at its core, allowing governance
and token rewards as incentives for participation in serving the network.</p><p>ðŸ’¡ This content was originally posted in <a href="https://hackmd.io/5jExeM1yQ7Sm_ly-6cp0ng" target="_blank" rel="noopener noreferrer">hackmd.io</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="motivation">Motivation<a class="hash-link" href="#motivation" title="Direct link to heading">â€‹</a></h2><p>Storage based traffic makes up 80% of Fleek traffic, the other 20% is for our websites.</p><p><img loading="lazy" src="/assets/images/pie-chart-storage-based-trafic-d4ee2a9162b344590b457a113f872bcc.jpg" width="838" height="474" class="img_ev3q"></p><blockquote><p>Globally, gaming traffic will be 6% of consumer Internet traffic in 2021, up from 2% in 2016...</p><p><a href="https://www.cisco.com/c/dam/m/en_us/solutions/service-provider/vni-forecast-highlights/pdf/Global_2021_Forecast_Highlights.pdf" target="_blank" rel="noopener noreferrer">Cisco Research</a></p></blockquote><blockquote><p>Globally, consumer Internet video traffic will be 81% of consumer Internet traffic in 2021, up from 72% in 2016.</p><p><a href="https://www.cisco.com/c/dam/m/en_us/solutions/service-provider/vni-forecast-highlights/pdf/Global_2021_Forecast_Highlights.pdf" target="_blank" rel="noopener noreferrer">Cisco Research</a></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next-for-fleek">Whats next for Fleek?<a class="hash-link" href="#whats-next-for-fleek" title="Direct link to heading">â€‹</a></h2><p>Decentralize our entire stack! Today we start with an important piece in our stack, the CDN.</p><ul><li>Accelerate IPFS content retrieval</li><li>Better UX for storage and hosting</li><li>Become non-custodial</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fleek-network">Fleek Network<a class="hash-link" href="#fleek-network" title="Direct link to heading">â€‹</a></h2><ul><li>Decentralized</li><li>Scale with demand</li><li>Web3 content</li><li>Interoperable</li><li>Robustness</li><li>P2P</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a class="hash-link" href="#architecture" title="Direct link to heading">â€‹</a></h2><ul><li>Content Routing</li><li>GossipSub</li><li>DHT</li><li>Peer discovery</li><li>DHT (Kademlia)</li><li>Request/Response</li><li>Bitswap/Graphsync</li><li>Gateway </li></ul><p><img loading="lazy" src="/assets/images/fleek-network-architecture-7a789083f96da278ddb57aa3dea0a297.jpg" width="6361" height="2282" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="p2p">P2P<a class="hash-link" href="#p2p" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" src="/assets/images/diagram-p2p-949ce65d7e06bf1bf8969bba2c2949e9.png" width="1987" height="1632" class="img_ev3q"></p><ul><li>Libp2p based</li><li>Trustless</li><li>Censorship-resistant</li><li>Resilient</li><li>Gossiping Protocol</li><li>Content addressable</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="content-routing">Content Routing<a class="hash-link" href="#content-routing" title="Direct link to heading">â€‹</a></h2><ul><li>DHT based content routing</li><li>Gossip based routing<ul><li>Bitswap</li><li>Graphsync Req/Res</li></ul></li><li>Not permanent<ul><li>Cache eviction</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="peer-discovery">Peer Discovery<a class="hash-link" href="#peer-discovery" title="Direct link to heading">â€‹</a></h2><ul><li>DHT (Kademlia)</li><li>mDns</li><li>Pruning and Grafting, passing lists of peers </li><li>Relay Nodes for nodes behind firewalls</li><li>Fleek Bootstrap nodes</li><li>Act as the network orchestrators</li><li>Gossip Only</li><li>Peer exchange through our Fleek bootstrap nodes</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consensus">Consensus<a class="hash-link" href="#consensus" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" src="/assets/images/fleek-network-consensus-c8f1ab3f9f5e6c7d0e013686b4e1b7e1.png" width="3722" height="1513" class="img_ev3q"></p><ul><li>Narwhal and Bullshark<ul><li>Data availability is ensured using Narwhal</li><li>Bullshark over Tusk for ordering</li></ul></li></ul><p><strong>Comparing Tusk vs Bullshark:</strong></p><table><thead><tr><th></th><th>Common round latency</th><th>Async round latency</th><th>Garbage collection</th><th>Fairness</th></tr></thead><tbody><tr><td>Tusk</td><td>3</td><td>E(7)</td><td>yes</td><td>no</td></tr><tr><td>Bullshark</td><td>2</td><td>E(6)</td><td>yes</td><td>during sync</td></tr></tbody></table><p>Click <a href="/docs/whitepaper">here</a> to find more information about the Fleek Network consensus.</p><blockquote><p>Decoupling data dissemination from metadata ordering is the key mechanism to allow scalable and high throughput consensus systems </p><p><a href="https://arxiv.org/pdf/2105.11827.pdf" target="_blank" rel="noopener noreferrer">Narwhal &amp; Tusk</a></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="indexer">Indexer<a class="hash-link" href="#indexer" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" src="/assets/images/fleek-network-indexer-adcafab45fa648dd3dee8df250c8d55a.png" width="2350" height="1159" class="img_ev3q"></p><ul><li>Each cache node runs an index provider</li><li>Index provider announces the content availability to indexer</li><li>Indexer get the nodes (for Bitswap/GraphSync) that are holding the content</li><li>Accelerates content routing and discovery</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gateway">Gateway<a class="hash-link" href="#gateway" title="Direct link to heading">â€‹</a></h2><ul><li>Cherry Picker</li><li>Minimizes latency of requests</li><li>Governance<ul><li>Bootstrapping </li><li>Ledger of nodes</li></ul></li><li>Nodes setup<ul><li>TLS</li><li>DNS</li></ul></li></ul><p><img loading="lazy" src="/assets/images/fleek-network-gateway-3bb0fdcae24febe67418191541d25100.png" width="2017" height="1029" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="security">Security<a class="hash-link" href="#security" title="Direct link to heading">â€‹</a></h2><ul><li>Sybil</li><li>Eclipse</li><li>Spam</li><li>Bootstrap</li><li>Sybil/Eclipse</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-story">User story<a class="hash-link" href="#user-story" title="Direct link to heading">â€‹</a></h2><div class="language-gherkin= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gherkin= codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Feature: Accelerate Content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  As an app</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  I want to put content onto the Ursa CDN</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Because I want to accelerate my content worldwide</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Given a trustless, censorship resistent premise</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Scenario: App puts content to Ursa</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Given I'm a signed up to ursa and have an endpoint id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    When I use the given api</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    And I make a put request with my content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Then the content should be uploaded to the network</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    And distributed amongst peers and cached on the network and gateway</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    And the nodes will also cache the data locally until storage threshold</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-gherkin= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gherkin= codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Feature: Get Content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  As an app</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  I want to get my content from Ursa CDN</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Because I want to serve it to my clients</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Scenario: App requests for `/:cid`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Given the App has a valid endpoint url</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    When the App makes a `Get` request for the `cid`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Then the Gateway returns the data if it is cached</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    But if not cached, it will query the closest node</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    And if cache miss, gateways</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    And nodes will cache the content for repeated requests</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-flows">User flows<a class="hash-link" href="#user-flows" title="Direct link to heading">â€‹</a></h2><div class="language-sequence codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sequence codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Client-&gt;Gateway: Get: "/&lt;client_endpoint&gt;/:cid"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Gateway-&gt;Cherry Picker: Pick closest node</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Cherry Picker-&gt;Node: Get content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Note right of Node: From cache or content routing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Node--&gt;Client: Returns content and caches it</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Note left of Client: Incrementally verifies the data</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/fleek-network-user-flows-e2886fae2e678d447a48465d4b6fea74.png" width="2374" height="1772" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-timeline">Project Timeline<a class="hash-link" href="#project-timeline" title="Direct link to heading">â€‹</a></h2><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gantt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    title Mission no.1: First Exploration</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    section Network</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Outline and build v0 of node spec           :a1, 2022-06-01, 30d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Develop networking stack     :after a1  , 25d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    section RPC</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Design Cache Node RPC interface      :2022-06-01  , 28d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Integrate with gateways      :20d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    section Store</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Implement an IPLD blockstore      :2022-06-01  , 20d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    section Metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Determine the metrics capturing mechanism      :2022-06-01  , 30d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Determine payout for nodes serving content     : 30d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    section Daemon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Build a local cli to interact with node      :2022-06-01  , 30d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    section Gateway</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Create a global gateway     :2022-06-01  , 24d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Build a governance layer and cherry picker      : after a1  , 30d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="appendix">Appendix<a class="hash-link" href="#appendix" title="Direct link to heading">â€‹</a></h2><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><strong>More coming soon!</strong>
<strong>This is a general overiew, paper, repo, and official announcement soon</strong></p></div></div>]]></content>
        <author>
            <name>Mahmoud A. Shehata</name>
            <uri>https://github.com/b0xtch</uri>
        </author>
        <category label="fleek network" term="fleek network"/>
        <category label="blog" term="blog"/>
        <category label="engineering" term="engineering"/>
        <category label="introduction" term="introduction"/>
    </entry>
</feed>