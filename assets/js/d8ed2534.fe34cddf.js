"use strict";(self.webpackChunkdocta=self.webpackChunkdocta||[]).push([[4832],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),m=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=m(e.components);return r.createElement(i.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=m(n),d=a,f=u["".concat(i,".").concat(d)]||u[d]||p[d]||o;return n?r.createElement(f,s(s({ref:t},c),{},{components:n})):r.createElement(f,s({ref:t},c))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[u]="string"==typeof e?e:a,s[1]=l;for(var m=2;m<o;m++)s[m]=n[m];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8046:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>m});var r=n(7462),a=(n(7294),n(3905));const o={template:"post",draft:!1,hide_title:!1,title:"Domain Name System nameserver troubleshooting",slug:"domain-name-system-nameserver-troubleshooting",date:new Date("2023-03-21T23:00:00.000Z"),canonical:"",description:"Troubleshooting domain name issues",category:"Reference",tags:["Reference","Fleek Network","DNS","Dynamic name system","dig","nameserver"]},s=void 0,l={unversionedId:"DNS/domain-name-system-nameserver-troubleshooting",id:"DNS/domain-name-system-nameserver-troubleshooting",title:"Domain Name System nameserver troubleshooting",description:"Troubleshooting domain name issues",source:"@site/reference/DNS/domain-name-system-nameserver-troubleshooting.md",sourceDirName:"DNS",slug:"/DNS/domain-name-system-nameserver-troubleshooting",permalink:"/reference/DNS/domain-name-system-nameserver-troubleshooting",draft:!1,editUrl:"https://github.com/fleek-network/fleek-network-docs/edit/main/reference/DNS/domain-name-system-nameserver-troubleshooting.md",tags:[{label:"Reference",permalink:"/reference/tags/reference"},{label:"Fleek Network",permalink:"/reference/tags/fleek-network"},{label:"DNS",permalink:"/reference/tags/dns"},{label:"Dynamic name system",permalink:"/reference/tags/dynamic-name-system"},{label:"dig",permalink:"/reference/tags/dig"},{label:"nameserver",permalink:"/reference/tags/nameserver"}],version:"current",lastUpdatedAt:1683715983,formattedLastUpdatedAt:"May 10, 2023",frontMatter:{template:"post",draft:!1,hide_title:!1,title:"Domain Name System nameserver troubleshooting",slug:"domain-name-system-nameserver-troubleshooting",date:"2023-03-21T23:00:00.000Z",canonical:"",description:"Troubleshooting domain name issues",category:"Reference",tags:["Reference","Fleek Network","DNS","Dynamic name system","dig","nameserver"]},sidebar:"defaultSidebar",previous:{title:"Uninstalling",permalink:"/reference/Assisted-installer/uninstalling"},next:{title:"Error trying to connect: dns error: failed to lookup address information: Temporary failure in name resolution",permalink:"/reference/DNS/failed-to-lookup-address-information-temporary-failure-in-name-resolution"}},i={},m=[],c={toc:m};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"When attempting to secure the server with SSL/TLS some users might be blocked at the Let's Encrypt step because the installer says that it \"Doesn't have a DNS record type A pointing to the server\". As mentioned, DNS might take some time to propagate but other issues might cause it too..."),(0,a.kt)("p",null,"\ud83d\ude4b\u200d\u2640\ufe0f We've used Ubuntu 22.x, as an example, for this reference. Your operating system version might differ a bit."),(0,a.kt)("p",null,"Flush Your Local DNS Cache"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo resolvectl flush-caches \n")),(0,a.kt)("h1",{id:"check-dns-nameservers"},"Check DNS Nameservers"),(0,a.kt)("p",null,"The DNS nameserver declared in the systemd configuration file is what's used to query when trying to connect to a hostname like your domain name. Some DNS nameservers take longer to have the latest domain name details and cause the installation process to fail."),(0,a.kt)("p",null,"It's possible to change the DNS nameserver to a DNS nameserver of your liking."),(0,a.kt)("p",null,"Start by listing the content to locate the Network Name Resolution configuration files."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"ls -la /etc/systemd/resolved.conf.d/\n")),(0,a.kt)("p",null,"If any configuration file is listed, these configuration files control local DNS name resolution. E.g. some VPS providers such as Digital Ocean have a default file:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"/etc/systemd/resolved.conf.d/DigitalOcean.conf\n")),(0,a.kt)("p",null,"Which content looks like"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"[Resolve]\nDNS=67.207.67.2 67.207.67.3\n")),(0,a.kt)("p",null,"Let's say that you decide to change this information to use a popular DNS provider hypothetically"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"[Resolve]\nDNS=8.8.8.8 8.8.4.4\n")),(0,a.kt)("p",null,"\ud83d\udca1 Use any DNS nameserver of your liking"),(0,a.kt)("p",null,"Remember to restart, for the changes to take effect"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"systemctl restart systemd-resolved\n")),(0,a.kt)("p",null,"Flush cache"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"sudo resolvectl flush-caches \n")),(0,a.kt)("p",null,"Verify that the domain name is pointing to the correct IP address"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"dig <YOUR-DOMAIN-NAME> +nocomments\n")),(0,a.kt)("p",null,"Should output"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},";<YOUR-DOMAIN-NAME>.        IN  A\n<YOUR-DOMAIN-NAME>. 199 IN  A   1.2.3.4\n")),(0,a.kt)("p",null,"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},";my-node.example.com.       IN  A\nmy-node.example.com.    199 IN  A   99.20.33.45\n")))}u.isMDXComponent=!0}}]);