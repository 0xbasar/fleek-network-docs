"use strict";(self.webpackChunkdocta=self.webpackChunkdocta||[]).push([[4713],{3890:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>g,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var s=t(5893),a=t(1151),o=t(3872);const i={title:"Analyzing logs",slug:"analyzing-logs",hide_title:!0,tags:["logs","diagnostic"]},r=void 0,l={id:"node/analyzing-logs",title:"Analyzing logs",description:"Analyzing Logs",source:"@site/docs/node/analyzing-logs.md",sourceDirName:"node",slug:"/node/analyzing-logs",permalink:"/docs/node/analyzing-logs",draft:!1,unlisted:!1,tags:[{label:"logs",permalink:"/docs/tags/logs"},{label:"diagnostic",permalink:"/docs/tags/diagnostic"}],version:"current",frontMatter:{title:"Analyzing logs",slug:"analyzing-logs",hide_title:!0,tags:["logs","diagnostic"]},sidebar:"docs",previous:{title:"Health check",permalink:"/docs/node/health-check"},next:{title:"Systemd Service",permalink:"/docs/node/systemd-service"}},d={},c=[{value:"Analyzing Logs",id:"analyzing-logs",level:2},{value:"Log types",id:"log-types",level:2},{value:"Watch logs",id:"watch-logs",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"analyzing-logs",children:"Analyzing Logs"}),"\n",(0,s.jsx)(n.p,{children:"The service logs provide a timeline of events for the Lightning service that is valuable for troubleshooting when encountering issues\u2013when issues arise, analyzing log files is the first thing a node operator needs to do."}),"\n",(0,s.jsxs)(n.p,{children:["If you've installed the Node via the ",(0,s.jsx)(n.a,{href:"/docs/node/install#assisted-installer",children:"assisted installer"}),", the logs are set up for you automatically. Otherwise, you have to follow the instructions provided in the ",(0,s.jsx)(n.a,{href:"/docs/node/install#manual-installation",children:"manual installation"})," section."]}),"\n",(0,s.jsx)(n.h2,{id:"log-types",children:"Log types"}),"\n",(0,s.jsx)(n.p,{children:"Standard out and standard error are two data streams created when we launch the Lightning process, on Lightning process activity we redirect the data streams to files as follows:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Standard output"})," - The text output from the service process is put in ",(0,s.jsx)(n.code,{children:"/var/log/lightning/output.log"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Standard error"})," - The error messages from the service process are put in ",(0,s.jsx)(n.code,{children:"/var/log/lightning/diagnostic.log"})]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["By convention, most of the log files create on Linux are found under the directory ",(0,s.jsx)(n.code,{children:"/var/log/"}),", a standard area where system messages are logged and recorded."]})}),"\n",(0,s.jsx)(n.p,{children:"Because normal output and error messages have their own channel, they can be handled independently of one another. Thus, we keep this in separate files that aggregate the output messages emitted by the Lightning process."}),"\n",(0,s.jsx)(n.h2,{id:"watch-logs",children:"Watch logs"}),"\n",(0,s.jsx)(n.p,{children:"The log files can be monitored in real-time for diagnosis and troubleshooting purposes and the tail command is the most basic way for this purpose."}),"\n",(0,s.jsx)(n.p,{children:"You can watch the node standard output (stdout) by running the command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"tail -f /var/log/lightning/output.log\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or, watch the standard error (stderr) for node diagnostics by running the command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"tail -f /var/log/lightning/diagnostic.log\n"})}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsxs)(n.p,{children:["If you are controlling the Docker Container as a Systemd Service (Systemctl to start, stop or check the status) then the standard out (stdout) and standard error (stderr) logs are available as ",(0,s.jsx)(n.code,{children:"/var/log/lightning/*.log"}),"."]}),(0,s.jsx)(n.p,{children:"In any case, you can use the Docker command to analyze the logs. If you have stick with the default naming conventions it'd look like:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo docker logs -f lightning-node\n"})})]}),"\n",(0,s.jsx)(o.Z,{name:"Helder Oliveira",image:"https://github.com/heldrida.png",title:"Software Developer + DX",url:"https://github.com/heldrida"})]})}function g(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},3872:(e,n,t)=>{t.d(n,{Z:()=>a});t(7294);var s=t(5893);const a=e=>{let{image:n,name:t,title:a,url:o,communityMember:i=!1}=e;return(0,s.jsx)("section",{className:"author_card",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"avatar",children:(0,s.jsx)("a",{href:o,target:"_blank",alt:t,children:(0,s.jsx)("img",{src:n,alt:t})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"name",children:(0,s.jsx)("a",{href:o,target:"_blank",alt:t,children:t})}),(0,s.jsx)("span",{className:"title",children:a}),(0,s.jsxs)("span",{className:"discord",children:[i?"Join our community on":"Got questions? Find us on"," ",(0,s.jsx)("a",{href:"https://discord.gg/fleekxyz",target:"_blank",children:"discord!"})]})]})]})})}},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>i});var s=t(7294);const a={},o=s.createContext(a);function i(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);