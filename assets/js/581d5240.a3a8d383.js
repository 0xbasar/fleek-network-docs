"use strict";(self.webpackChunkdocta=self.webpackChunkdocta||[]).push([[5318],{4798:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>r,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>l});var a=n(5893),s=n(1151),o=n(3872);const c={title:"Health check",slug:"health-check",hide_title:!0,tags:["healthcheck","verification","node status"]},r=void 0,i={id:"node/health-check",title:"Health check",description:"TL;DR: Run the command",source:"@site/docs/node/health-check.md",sourceDirName:"node",slug:"/node/health-check",permalink:"/docs/node/health-check",draft:!1,unlisted:!1,tags:[{label:"healthcheck",permalink:"/docs/tags/healthcheck"},{label:"verification",permalink:"/docs/tags/verification"},{label:"node status",permalink:"/docs/tags/node-status"}],version:"current",frontMatter:{title:"Health check",slug:"health-check",hide_title:!0,tags:["healthcheck","verification","node status"]},sidebar:"docs",previous:{title:"Install",permalink:"/docs/node/install"},next:{title:"Analyzing logs",permalink:"/docs/node/analyzing-logs"}},h={},l=[{value:"TL;DR: Run the command",id:"tldr-run-the-command",level:2},{value:"Overview",id:"overview",level:2},{value:"What&#39;s a node health check?",id:"whats-a-node-health-check",level:2},{value:"Quick health check",id:"quick-health-check",level:2},{value:"JSON-RPC Health check",id:"json-rpc-health-check",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"tldr-run-the-command",children:"TL;DR: Run the command"}),"\n",(0,a.jsx)(t.p,{children:"A script is available to do and provide a health check overview:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sh",children:"curl -sS https://get.fleek.network/healthcheck | bash\n"})}),"\n",(0,a.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(t.p,{children:"In network applications, a health check is a process of verifying the overall health and availability of a service. It usually involves sending a request to a specific endpoint of a service and receiving a response indicating the status. The response includes information about the status of the service, or any errors or warnings if not healthy. This helps developers, node operators, and system administrators identify and resolve issues that may affect the network, node performance and availability."}),"\n",(0,a.jsx)(t.p,{children:"A Node operator or system administrator can communicate with the node to confirm the status at any time."}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsx)(t.p,{children:"We're using cURL, for the examples, thus make sure that you have it installed on your operating system."})}),"\n",(0,a.jsx)(t.h2,{id:"whats-a-node-health-check",children:"What's a node health check?"}),"\n",(0,a.jsx)(t.p,{children:"A Node health check is exactly what it sounds like, a way of checking the health status of a Fleek Network node."}),"\n",(0,a.jsx)(t.p,{children:"A Node operator can do a health check (as it's common among system operators worth their title) to get feedback and see if the resource is operating successfully. It's a good practice for a Node operator to do it frequently, as otherwise there'd be no way of knowing whether the Node is running. For example, some advanced operators automate this process by using cronjobs and getting reports via email, etc."}),"\n",(0,a.jsx)(t.p,{children:"Health checks are valuable and a must for all the Node operators, as they are incentivized to participate in the network by making their resources available which the reward mechanism evaluates."}),"\n",(0,a.jsx)(t.p,{children:"Rewards are only a given for good behavior and thus an unhealthy Node or bad management can cause disappointment. A decentralized and permissionless network, which is beyond anyone's control (us included) requires some education by the users."}),"\n",(0,a.jsx)(t.p,{children:"A system can be highly customizable and understanding some basics can help you achieve success as a node operator, resource health checking is important."}),"\n",(0,a.jsx)(t.p,{children:"Fleek Network depends on the Node operator's success, thus we try to keep things simple and try to motivate you to learn for the network's overall health. That's what a Node health check is about, your contribution!"}),"\n",(0,a.jsx)(t.h2,{id:"quick-health-check",children:"Quick health check"}),"\n",(0,a.jsxs)(t.p,{children:["Run a quick health check by sending a GET request to ",(0,a.jsx)(t.code,{children:"/health"})," endpoint of RPC on ",(0,a.jsx)(t.a,{href:"/docs/node/requirements#ports",children:"port"})," 4230."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sh",children:'curl -w "\\n" localhost:4230/health\n'})}),"\n",(0,a.jsxs)(t.p,{children:["If successful, you should get the response ",(0,a.jsx)(t.code,{children:"running and staked"}),", as follows:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sh",children:"running and staked\n"})}),"\n",(0,a.jsx)(t.p,{children:"If you get an error, then it means that your node is not healthy."}),"\n",(0,a.jsx)(t.h2,{id:"json-rpc-health-check",children:"JSON-RPC Health check"}),"\n",(0,a.jsxs)(t.p,{children:["We'll send a request to the JSON RPC ",(0,a.jsx)(t.code,{children:"flk_ping"})," method. Execute the following command:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sh",children:'curl -X POST -H "Content-Type: application/json" -d \'{\n    "jsonrpc": "2.0",\n    "method": "flk_ping",\n    "params": [],\n    "id": 1\n  }\' localhost:4230/rpc/v0\n'})}),"\n",(0,a.jsxs)(t.p,{children:["If the request is successful, you should get the result ",(0,a.jsx)(t.code,{children:"pong"})," as follows:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sh",children:'{\n  "jsonrpc": "2.0",\n  "result": "pong",\n  "id": 1\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"Any other response, such as errors determine that the node is not healthy."}),"\n",(0,a.jsx)(o.Z,{name:"Helder Oliveira",image:"https://github.com/heldrida.png",title:"Software Developer + DX",url:"https://github.com/heldrida"})]})}function u(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},3872:(e,t,n)=>{n.d(t,{Z:()=>s});n(7294);var a=n(5893);const s=e=>{let{image:t,name:n,title:s,url:o,communityMember:c=!1}=e;return(0,a.jsx)("section",{className:"author_card",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"avatar",children:(0,a.jsx)("a",{href:o,target:"_blank",alt:n,children:(0,a.jsx)("img",{src:t,alt:n})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"name",children:(0,a.jsx)("a",{href:o,target:"_blank",alt:n,children:n})}),(0,a.jsx)("span",{className:"title",children:s}),(0,a.jsxs)("span",{className:"discord",children:[c?"Join our community on":"Got questions? Find us on"," ",(0,a.jsx)("a",{href:"https://discord.gg/fleekxyz",target:"_blank",children:"discord!"})]})]})]})})}},1151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>c});var a=n(7294);const s={},o=a.createContext(s);function c(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);